(this["webpackJsonpcards-2.0"]=this["webpackJsonpcards-2.0"]||[]).push([[0],{129:function(e,t,r){e.exports={overlay:"Lodader_overlay__14XV0",progress:"Lodader_progress__1JlPC",scaling:"Lodader_scaling__3Ev6u"}},182:function(e,t,r){},183:function(e,t,r){},184:function(e,t,r){},185:function(e,t,r){},329:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r.n(s),n=r(22),i=r.n(n),c=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,409)).then((function(t){var r=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;r(e),s(e),a(e),n(e),i(e)}))},o=r(47),l=r(8),d=r(21),j=r(9),b=r(110),u=r(172),O={status:"idle",error:null,success:null,isInitialized:!1},p=function(e){return{type:"SET_APP_ERROR",error:e}},x=function(e){return{type:"SET_APP_STATUS",status:e}},h=r(171),m=r.n(h).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),f=function(e){return m.post("/auth/login",e)},g=function(e){return m.post("/auth/register",e)},v={isRegister:!1},w=function(e){return{type:"SET_IS_REGISTER",isRegister:e}},_=r(15),P=r(27),R={data:{_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1,error:""},isAuth:!1},S=r(51),E=Object(b.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APP_ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.error});case"SET_APP_STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case"SET_APP_INITIALIZED":return Object(d.a)(Object(d.a)({},e),{},{isInitialized:t.isInitialized});case"SET_APP_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{success:t.success});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return"SET_IS_REGISTER"===t.type?Object(d.a)(Object(d.a)({},e),{},{isRegister:t.isRegister}):e},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN/GET-USER-DATA":return Object(d.a)(Object(d.a)({},e),{},{data:t.data,isAuth:t.isAuth});case"LOGIN/UPDATE-USER-DATA-INFO":return Object(d.a)(Object(d.a)({},e),{},{data:t.data});default:return e}}}),y=Object(b.c)(E,Object(b.a)(u.a)),N=S.b,A=S.c;window.store=y;var I=r(112),L=r(107),T=r(391),C=r(407),k=r(392),D=r(393),F=r(399),G=r(395),V=r(403),U=r(396),W=r(80),M=r.n(W),H={borderRadius:"18px",margin:"50px auto 30px",width:"347px",height:"36px",textTransform:"none",background:"#366EFF",fontSize:"16px",fontWeight:"500",color:"#fff"},Y={marginTop:"84px",padding:"20px",textAlign:"center",width:"410px",minHeight:"500px",borderRadius:"2px",backgroundColor:"#fff",boxShadow:"0 0 5px rgba(0,0,0,0.3)"},z={margin:"20px auto 0",width:"347px"},q={width:"347px",margin:"20px",color:"#000000",fontSize:"27px"},J={fontSize:"13px",color:"red"},Z=r(129),B=r.n(Z),X=r(380),Q=r(2),$=function(){return Object(Q.jsx)("div",{className:B.a.overlay,children:Object(Q.jsx)("div",{className:B.a.progress,children:Object(Q.jsx)(X.a,{size:50})})})},K=r(384),ee=r(385),te=r(179),re=r.n(te),se=r(181),ae=r.n(se),ne=function(e){return Object(Q.jsx)(K.a,{position:"end",children:Object(Q.jsx)(ee.a,{"aria-label":"toggle password visibility",onClick:function(){e.setIsVisible(!e.isVisible)},onMouseDown:function(e){e.preventDefault()},children:e.isVisible?Object(Q.jsx)(re.a,{}):Object(Q.jsx)(ae.a,{})})})},ie=function(){var e=N(),t=A((function(e){return e.login.isAuth})),r=A((function(e){return e.app.status})),a=Object(s.useState)(!0),n=Object(j.a)(a,2),i=n[0],c=n[1],b=Object(L.a)({initialValues:{email:"",password:"",rememberMe:!1},validationSchema:I.a({email:I.b().required().email("invalid email"),password:I.b().required().min(7,"min 7 characters")}),onSubmit:function(t,r){var s,a,n,i=r.setSubmitting;e((s=t.email,a=t.password,n=t.rememberMe,function(){var e=Object(P.a)(Object(_.a)().mark((function e(t){var r,i;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(x("loading")),e.next=4,f({email:s,password:a,rememberMe:n});case 4:r=e.sent,t({type:"LOGIN/GET-USER-DATA",data:r.data,isAuth:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(p(i));case 12:return e.prev=12,t(x("idle")),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(t){return e.apply(this,arguments)}}())),i(!1),b.resetForm()}});return t?Object(Q.jsx)(l.a,{to:Se.PROFILE}):Object(Q.jsxs)("div",{className:M.a.login,children:["loading"===r&&Object(Q.jsx)($,{}),Object(Q.jsx)(T.a,{container:!0,justifyContent:"center",style:{padding:"30px"},children:Object(Q.jsx)(T.a,{item:!0,children:Object(Q.jsx)("form",{onSubmit:b.handleSubmit,children:Object(Q.jsxs)(C.a,{style:Y,variant:"filled",children:[Object(Q.jsx)(k.a,{children:Object(Q.jsx)("h1",{className:M.a.styleH1,children:"Sign In"})}),Object(Q.jsxs)(D.a,{children:[Object(Q.jsx)(F.a,Object(d.a)({id:"email",style:z,label:"email",error:b.touched.email&&!!b.errors.email,variant:"standard"},b.getFieldProps("email"))),b.touched.email&&b.errors.email&&Object(Q.jsx)("div",{style:J,children:b.errors.email}),Object(Q.jsx)(F.a,Object(d.a)(Object(d.a)({id:"password",style:z,variant:"standard",error:b.touched.password&&!!b.errors.password,label:"password",type:i?"password":"text"},b.getFieldProps("password")),{},{InputProps:{endAdornment:Object(Q.jsx)(ne,{isVisible:i,setIsVisible:function(){c(!i)}})}})),b.touched.password&&b.errors.password&&Object(Q.jsx)("div",{style:J,children:b.errors.password}),Object(Q.jsx)(G.a,Object(d.a)({style:q,label:"Remember me",control:Object(Q.jsx)(V.a,{color:"primary",checked:b.values.rememberMe})},b.getFieldProps("rememberMe"))),Object(Q.jsx)("div",{style:{textAlign:"right",marginRight:"33px"},children:Object(Q.jsx)(o.b,{className:M.a.forgotPassword,to:Se.PASSWORD_RECOVERY,children:"Forgot Password"})}),Object(Q.jsx)(U.a,{style:H,variant:"contained",type:"submit",children:"Sign In"}),Object(Q.jsxs)(k.a,{children:[Object(Q.jsx)("p",{className:M.a.styleP,children:"Don't have an account?"}),Object(Q.jsx)(o.b,{className:M.a.signUp,to:Se.REGISTRATION,children:"Sign Up"})]})]})]})})})})]})},ce=r(182),oe=r.n(ce),le=function(){return Object(Q.jsx)("div",{className:oe.a.passwordRecovery,children:"PasswordRecovery"})},de=r(183),je=r.n(de),be=function(){return Object(Q.jsx)("div",{className:je.a.profile,children:"Profile"})},ue=r(69),Oe=r.n(ue),pe=r(394),xe=r(404),he=r(401),me=function(){return Object(Q.jsx)(T.a,{container:!0,className:Oe.a.registration,justifyContent:"center",children:Object(Q.jsx)(pe.a,{elevation:5,style:{padding:"20px 50px"},children:Object(Q.jsx)(fe,{})})})},fe=function(){var e=Object(S.b)(),t=Object(S.c)((function(e){return e.auth.isRegister})),r=Object(s.useState)(!1),a=Object(j.a)(r,2),n=a[0],i=a[1],c=Object(L.a)({initialValues:{email:"",password:"",confirmPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<7&&(t.password="Invalid password"):t.password="Required",e.confirmPassword?e.confirmPassword.length<8?t.confirmPassword="Invalid password":e.password!==e.confirmPassword&&(t.confirmPassword="passwords must be equal"):t.confirmPassword="Required",t},onSubmit:function(r){var s,a={email:r.email,password:r.password};e((s=a,function(e){e(x("loading")),g(s).then((function(t){e(x("succeeded")),e(w(!0))})).catch((function(t){t.response.data.error&&(e(p(t.response.data.error)),e(x("failed")))})).finally((function(){e(w(!1))}))})),t&&c.resetForm()}}),b=c.touched.email&&c.errors.email?Object(Q.jsx)("div",{children:c.errors.email}):null,u=c.touched.password&&c.errors.password?Object(Q.jsx)("div",{children:c.errors.password}):null,O=c.touched.confirmPassword&&c.errors.confirmPassword?Object(Q.jsx)("div",{children:c.errors.confirmPassword}):null;return t?Object(Q.jsx)(l.a,{to:Se.LOGIN}):Object(Q.jsx)("form",{onSubmit:c.handleSubmit,children:Object(Q.jsxs)(C.a,{className:Oe.a.form,children:[Object(Q.jsx)("h1",{className:Oe.a.formLabel,children:"SIGN UP"}),Object(Q.jsxs)(D.a,{children:[Object(Q.jsxs)(C.a,{children:[Object(Q.jsx)(xe.a,{children:"Email"}),Object(Q.jsx)(he.a,Object(d.a)({error:!!b},c.getFieldProps("email"))),Object(Q.jsx)("div",{className:Oe.a.error,children:b})]}),Object(Q.jsxs)(C.a,{children:[Object(Q.jsx)(xe.a,{children:"Password"}),Object(Q.jsx)(he.a,Object(d.a)(Object(d.a)({type:n?"text":"password",error:!!u},c.getFieldProps("password")),{},{endAdornment:Object(Q.jsx)(ne,{isVisible:n,setIsVisible:i})})),Object(Q.jsx)("div",{className:Oe.a.error,children:u})]}),Object(Q.jsxs)(C.a,{children:[Object(Q.jsx)(xe.a,{children:"Confirm password"}),Object(Q.jsx)(he.a,Object(d.a)(Object(d.a)({type:n?"text":"password",error:!!O},c.getFieldProps("confirmPassword")),{},{endAdornment:Object(Q.jsx)(ne,{isVisible:n,setIsVisible:i})})),Object(Q.jsx)("div",{className:Oe.a.error,children:O})]}),Object(Q.jsx)(U.a,{type:"submit",variant:"contained",color:"primary",children:"Sign up"}),Object(Q.jsx)(k.a,{className:Oe.a.formLabel,children:Object(Q.jsxs)("div",{children:["Already have an account? ",Object(Q.jsx)(o.c,{to:Se.LOGIN,children:"SIGN IN"})]})})]})]})})},ge=r(184),ve=r.n(ge),we=function(){return Object(Q.jsx)("div",{className:ve.a.enteringANewPassword,children:"EnteringANewPassword"})},_e=r(185),Pe=r.n(_e),Re=function(){return Object(Q.jsx)("div",{className:Pe.a.welcome,children:"Welcome"})},Se={WELCOME:"/welcome",LOGIN:"/login",PASSWORD_RECOVERY:"/passwordRecovery",REGISTRATION:"/registration",NEW_PASSWORD:"/enteringANewPassword",PROFILE:"/profile"};function Ee(){return Object(Q.jsx)("div",{children:Object(Q.jsxs)(l.d,{children:[Object(Q.jsx)(l.b,{path:"/",element:Object(Q.jsx)(l.a,{to:Se.WELCOME})}),Object(Q.jsx)(l.b,{path:Se.LOGIN,element:Object(Q.jsx)(ie,{})}),Object(Q.jsx)(l.b,{path:Se.PASSWORD_RECOVERY,element:Object(Q.jsx)(le,{})}),Object(Q.jsx)(l.b,{path:Se.PROFILE,element:Object(Q.jsx)(be,{})}),Object(Q.jsx)(l.b,{path:Se.REGISTRATION,element:Object(Q.jsx)(me,{})}),Object(Q.jsx)(l.b,{path:Se.NEW_PASSWORD,element:Object(Q.jsx)(we,{})}),Object(Q.jsx)(l.b,{path:"/*",element:Object(Q.jsx)(Re,{})})]})})}var ye=r(81),Ne=r.n(ye),Ae=function(){return Object(Q.jsx)("div",{className:Ne.a.container,children:Object(Q.jsxs)("div",{className:Ne.a.links,children:[Object(Q.jsx)(Ie,{path:Se.PROFILE,title:"Profile"}),Object(Q.jsx)(Ie,{path:Se.LOGIN,title:"Login"}),Object(Q.jsx)(Ie,{path:Se.REGISTRATION,title:"Registration"}),Object(Q.jsx)(Ie,{path:Se.PASSWORD_RECOVERY,title:"Password recovery+"}),Object(Q.jsx)(Ie,{path:Se.NEW_PASSWORD,title:"New password"}),Object(Q.jsx)("div",{className:Ne.a.link,children:"Hover me!"})]})})},Ie=function(e){return Object(Q.jsx)("div",{className:Ne.a.link,children:Object(Q.jsx)(o.c,{className:function(e){return e.isActive?Ne.a.active:""},to:e.path,children:e.title})})},Le=r(400),Te=r(406),Ce=a.a.forwardRef((function(e,t){return Object(Q.jsx)(Le.a,Object(d.a)({elevation:6,ref:t,variant:"filled"},e))}));function ke(){var e=A((function(e){return e.app.error})),t=Object(S.b)(),r=function(e,r){"clickaway"!==r&&t(p(null))};return Object(Q.jsx)(Te.a,{open:null!==e,autoHideDuration:6e3,onClose:r,children:Object(Q.jsx)(Ce,{onClose:r,severity:"error",sx:{width:"100%"},children:e})})}var De=r(398),Fe=function(){var e=A((function(e){return e.app.status}));return Object(Q.jsxs)("div",{children:[Object(Q.jsx)("div",{style:{height:"5px"},children:"loading"===e&&Object(Q.jsx)(De.a,{})}),Object(Q.jsxs)(o.a,{children:[Object(Q.jsx)(ke,{}),Object(Q.jsx)(Ae,{}),Object(Q.jsx)(Ee,{})]})]})};i.a.render(Object(Q.jsx)(a.a.StrictMode,{children:Object(Q.jsx)(S.a,{store:y,children:Object(Q.jsx)(Fe,{})})}),document.getElementById("root")),c()},69:function(e,t,r){e.exports={registration:"Registration_registration__OSY5c",form:"Registration_form__PAYQL",error:"Registration_error__3SRYL",formLabel:"Registration_formLabel__1M3OE"}},80:function(e,t,r){e.exports={login:"Login_login__2U0rP",styleH1:"Login_styleH1__1DY35",styleP:"Login_styleP__2ij4J",signUp:"Login_signUp__-Vryv",forgotPassword:"Login_forgotPassword__yNRDo"}},81:function(e,t,r){e.exports={container:"Header_container__aGOgC",links:"Header_links__3UEMk",link:"Header_link__X9MNl",active:"Header_active__3y_9i"}}},[[329,1,2]]]);
//# sourceMappingURL=main.1a4cf3da.chunk.js.map